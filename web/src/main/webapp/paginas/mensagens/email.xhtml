<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
>
<html class="gt-ie8 gt-ie9 not-ie pxajs">
<h:head>
	<title>Faloo . Compartilhe Conhecimento</title>
	 <h:outputStylesheet library="css" name="bootstrap.min.css" />
	 <h:outputStylesheet library="css" name="codemirror.min.css" />
	 <h:outputStylesheet library="css" name="pages.min.css" />
	 <h:outputStylesheet library="css" name="pixel-admin.min.css" />
	 <h:outputStylesheet library="css" name="rtl.min.css" />
	 <h:outputStylesheet library="css" name="themes.min.css" />
	 <h:outputStylesheet library="css" name="widgets.min.css" />
	 <h:outputStylesheet library="css" name="custom.css" />
	 <h:outputStylesheet library="css" name="linhaDoTempo.css" />
	 <link rel="shortcut icon" type="image/x-icon" href="#{request.contextPath}/resources/img/fav.ico" />
</h:head>
<script>var init = [];</script>
<div id="main-wrapper">
<!-- CABECALHO -->
<ui:insert name="cabecalho">
	<ui:include src="/template/cabecalho.xhtml" />
</ui:insert>
<!-- MENU -->
<ui:insert name="menu">
	<ui:include src="/template/menu.xhtml" />
</ui:insert>	
<h:body styleClass="theme-default main-menu-animated page-mail animate-mm-sm animate-mm-md animate-mm-lg animate-mm-sm animate-mm-md animate-mm-lg">

<!-- CONTEUDO -->
<h:form id="formGeral" prependId="false">
	<div id="content-wrapper">
		<div class="mail-nav">
			<div class="compose-btn">
				<h:outputLabel onclick="novaMsg();" styleClass="btn btn-primary btn-labeled btn-block">
					<f:ajax event="click" render="mensagens"/>
					<i class="btn-label fa fa-pencil-square-o"/>
					<h:outputText value="#{mensagens['display.nova.mensagem']}" /> 
				</h:outputLabel>
			</div>
			<div class="navigation">
				<ul class="sections">
					<li id="tabPrincipal" class="active">
						<h:commandLink>
							<i class="m-nav-icon fa fa-inbox"/>
							<f:ajax event="click" render="m mensagens" onevent="tabPrincipal()" listener="#{caixaEntradaBean.exibirMsgsRecebidas()}"/>
							<h:outputText value="#{mensagens['display.principal']}" />
							<span class="label pull-right">
								<h:outputText value="#{caixaEntradaBean.nuMsgRecebidas}" />
							</span>
						</h:commandLink>
					</li>
					<li id="tabEnviados">
						<h:commandLink   >
							<i class="m-nav-icon fa fa-envelope"/>
							<f:ajax event="click" render="m mensagens" onevent="tabEnviados()" listener="#{caixaEntradaBean.exibirMsgsEnviadas()}"/>
							<h:outputText value="#{mensagens['display.enviados']}"  />
							<span class="label pull-right">
								<h:outputText value="#{caixaEntradaBean.nuMsgEnviadas}" />
							</span>
						</h:commandLink>
					</li>
					<li id="tabLixeira">
						<h:commandLink>
							<i class="m-nav-icon fa fa-trash-o"/>
							<f:ajax event="click" render="m mensagens" onevent="tabLixeira()" listener="#{caixaEntradaBean.exibirMsgsExcluidas()}"/>
							<h:outputText value="#{mensagens['display.lixeira']}" />
							<span class="label pull-right">
								<h:outputText value="#{caixaEntradaBean.nuMsgExcluidas}" />
							</span>
						</h:commandLink>
					</li>
					<li class="divider"/>
				</ul>
			</div>
		</div>
		<h:panelGroup id="msgBox">
		<div class="mail-container">
			<!-- MENSAGEM -->
			<h:panelGroup id="verMensagem" rendered="#{caixaEntradaBean.verMensagem}">
				<div class="mail-controls clearfix">
					<div class="btn-toolbar wide-btns pull-left" role="toolbar">
		
						<div class="btn-group">
							<button type="button" class="btn"><i class="fa fa-chevron-left"></i></button>
						</div>
		
						<div class="btn-group">
							<button type="button" class="btn"><i class="fa fa fa-file-text-o"></i></button>
							<button type="button" class="btn"><i class="fa fa-exclamation-circle"></i></button>
							<button type="button" class="btn"><i class="fa fa-trash-o"></i></button>
						</div>
		
					</div>
		
					<div class="btn-toolbar pull-right" role="toolbar">
						<div class="btn-group">
							<button type="button" class="btn"><i class="fa fa-mail-reply"></i></button>
							<div class="btn-group">
								<button type="button" class="btn dropdown-toggle" data-toggle="dropdown"><i class="fa fa-caret-down"></i></button>
								<ul class="dropdown-menu" role="menu">
									<li><a href="http://infinite-woodland-5276.herokuapp.com/pages-show-email.html#"><i class="fa fa-mail-reply"></i>Responder</a></li>
									<li><a href="http://infinite-woodland-5276.herokuapp.com/pages-show-email.html#"><i class="fa fa-mail-forward"></i>&nbsp;&nbsp;Encaminhar</a></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<div class="mail-info">
					<img src="./Show Email - Pages - PixelAdmin_files/3.jpg" alt="" class="avatar">
					<div class="from">
						<div class="name"><h:out </div>
						<div class="email">mbortz@example.com</div>
					</div>
		
					<div class="date">Mar 27 (3 days ago)</div>
				</div>
				<div class="mail-message-body">
					Hi John,
					<br><br>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.<br><br>
					<blockquote>
						Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
					</blockquote>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
				</div>
				<div class="message-details-reply">
				<h:panelGroup id="message-details-reply" action="" class="expanding-input">
					<textarea class="form-control expanding-input-target" rows="5"></textarea>
					<div class="expanding-input-hidden expanding-input-content" style="margin-top: 10px;">
						<button class="btn btn-primary pull-right">Send Message</button>
					</div>
				<div class="expanding-input-overlay expanding-input-content">
					<div class="expanding-input-placeholder">Click here to <a htef="#" class="text-muted"><strong>Reply</strong></a> or 
						<a htef="#" class="text-muted">
							<strong>Forward</strong>
						</a>
					</div>
				</div>
				<div class="expanding-input-overlay">
					<div class="expanding-input-placeholder">Click here to <a htef="#" class="text-muted"><strong>Reply</strong></a> or <a htef="#" class="text-muted"><strong>Forward</strong></a></div>
				</div>
				</h:panelGroup>
			</div>
			
			</h:panelGroup>
		
			<h:panelGroup id="novaMsg" style="display:none;">
				<div class="mail-container-header">
					<h:outputText value="#{mensagens['display.nova.mensagem']}" />
				</div>
					<h:panelGroup styleClass="new-mail-form form-horizontal">
						<div class="row form-group">
							<label class="col-sm-2 control-label" for="mail-from"><h:outputText value="#{mensagens['display.de']}" /> </label>
							<div class="col-sm-10">
								<h:inputText styleClass="form-control" disabled="true" id="mail-from" value="#{usuarioSessionBean.usuarioSessao.email}"/>
							</div>
						</div>
						<div class="row form-group">
							<label class="col-sm-2 control-label" for="s2id_autogen1"><h:outputText value="#{mensagens['display.para']}" /> </label>
							<div class="col-sm-10">
								<div class="select2-primary">
									<h:selectManyMenu id="destinatarios" value="#{caixaEntradaBean.destinatariosSelecionadas}"   styleClass="form-control autocompleteUsuario select2-offscreen" tabindex="-1">
										<f:selectItems value="#{caixaEntradaBean.listaAlunos}" var="aluno" itemValue="#{aluno.idUsuario}" itemLabel="#{aluno.nome} - #{aluno.matricula}"/>
									</h:selectManyMenu>
								</div>
							</div>
						</div>
						<div class="row form-group">
							<label class="col-sm-2 control-label" for="mail-subject"><h:outputText value="#{mensagens['display.assunto']}" /> </label>
							<div class="col-sm-10">
								<h:inputText styleClass="form-control"  value="#{caixaEntradaBean.mensagem.titulo}"/>
							</div>
						</div>
						<div class="row form-group">
							<div class="col-sm-offset-2 col-sm-10">
								<h:inputTextarea styleClass="form-control editorTexto" value="#{caixaEntradaBean.mensagem.mensagem}" rows="5" />
							</div>
						</div>
						<div class="row form-group">
							<div class="col-sm-offset-2 col-sm-10">
								<h:commandButton action="#{caixaEntradaBean.enviarMensagem()}" value="#{mensagens['display.enviar.mensagem']}" styleClass="btn btn-primary btn-xs" />
							</div>
						</div>
				</h:panelGroup>
			</h:panelGroup>
			<div id="tituloCaixa" class="mail-container-header">
				<h:outputText value="#{mensagens['display.caixa.entrada']}" />
				<h:panelGroup class="pull-right" style="width: 200px;margin-top: 3px;">
					<div class="form-group input-group-sm has-feedback no-margin">
						<h:inputText id="procurar" styleClass="form-control" />
						<span class="fa fa-search form-control-feedback" style="top: -1px"></span>
					</div>
				</h:panelGroup>
			</div>
			<div class="mail-controls clearfix">
				<h:messages id="mensagens" globalOnly="true" fatalClass="alert alert-danger alert-dark" errorClass="alert alert-warning alert-dark" infoClass="alert alert-info alert-dark" warnClass="alert alert-dark"/>
				<div class="btn-toolbar wide-btns pull-left" role="toolbar">
	
					<div id="menuMsg" class="btn-group">
						<div class="btn-group">
							<button type="button" class="btn dropdown-toggle" data-toggle="dropdown"><i class="fa fa-check-square-o"/><i class="fa fa-caret-down"/></button>
							<ul class="dropdown-menu" role="menu">
								<li>
									<h:commandLink immediate="true" value="#{mensagens['display.selecionar.todas']}"  >
										<f:ajax event="click" render="msgRecebidas msgEnviadas msgExcluidas"  listener="#{caixaEntradaBean.selecionarTodasMsgs()}"/>
									</h:commandLink>
								</li>
								<li>
									<h:commandLink immediate="true" value="#{mensagens['display.deselecionar.todas']}"  >
										<f:ajax event="click" render="msgRecebidas msgEnviadas msgExcluidas"  listener="#{caixaEntradaBean.deselecionarTodasMsgs()}"/>
									</h:commandLink>
								</li>
								<li class="divider"/>
								<li>
									<h:commandLink immediate="true" value="#{mensagens['display.marcar.como.lida']}"  >
										<f:ajax event="click" render="msgRecebidas msgEnviadas msgExcluidas"  listener="#{caixaEntradaBean.marcarMsgs()}"/>
									</h:commandLink>
								</li>
								<li>
									<h:commandLink immediate="true" value="#{mensagens['display.marcar.como.nao.lida']}"  >
										<f:ajax event="click" render="msgRecebidas msgEnviadas msgExcluidas"  listener="#{caixaEntradaBean.desmarcarMsgs()}"/>
									</h:commandLink>
								</li>
							</ul>
						</div>
						<h:commandLink title="#{mensagens['display.atualizar']}" styleClass="btn">
							<i class="fa fa fa-repeat"/>
							<f:ajax event="click" render="@form" listener="#{caixaEntradaBean.atualizarMsg()}"/>
						</h:commandLink>
						<h:commandLink title="#{mensagens['display.excluir']}" styleClass="btn">
							<i class="fa fa fa-trash-o"/>
							<f:ajax event="click" render="@form" listener="#{caixaEntradaBean.excluirMsg()}"/>
						</h:commandLink>
						<h:commandLink action="#{caixaEntradaBean.removerLixeiraMsgs()}" title="Remover da lixeira" styleClass="btn" disabled="#{caixaEntradaBean.msgRecebidas or caixaEntradaBean.msgEnviadas}">
							<i class="fa fa fa-trash-o"/>
							<f:ajax event="click" render="@form" />
						</h:commandLink>
					</div>
	
				</div>
	
			</div>
			<h:panelGroup id="m">
			<!-- RECEBIDAS -->
				<h:panelGroup id="msgRecebidas" rendered="#{caixaEntradaBean.msgRecebidas}">
					<ul class="mail-list">
						<ui:repeat var="mensagem" value="#{caixaEntradaBean.mensagemsRecebidas}"  >
							<li class="mail-item unread">
								<div class="m-chck"><label class="px-single">
									<h:selectBooleanCheckbox value="#{mensagem.selecionada}" styleClass="px" >
										<f:ajax event="click" listener="#{caixaEntradaBean.selecionarMsg(mensagem)}"/>
									</h:selectBooleanCheckbox>
								<span class="lbl"></span></label></div>
								<div class="m-star"></div>
								<div class="m-from"><a href=""><h:outputText value="#{mensagem.remetente.nome}" /> </a></div>
								<div class="m-subject"> <a href="">
									<span class="label label-pa-purple">
										<h:outputText value="#{mensagens['display.recebida']}"  rendered="#{not (mensagem.remetente.idUsuario eq usuarioSessionBean.usuarioSessao.idUsuario)}"/>
										<h:outputText value="#{mensagens['display.enviada']}"  rendered="#{mensagem.remetente.idUsuario eq usuarioSessionBean.usuarioSessao.idUsuario}"/>
									</span>
									<h:outputText value="#{mensagem.titulo}" styleClass="marginLeft_10"/>
								</a></div>
								<div class="m-date">
									<h:outputText value="#{mensagem.tempo}"/> 
								</div>
							</li>
						</ui:repeat>
					</ul>
				</h:panelGroup>
				
				<!-- ENVIDAS -->
				<h:panelGroup id="msgEnviadas" rendered="#{caixaEntradaBean.msgEnviadas}">
					<ul class="mail-list">
						<ui:repeat var="mensagem" value="#{caixaEntradaBean.mensagemEnviadas}"  >
							<li class="mail-item unread">
								<div class="m-chck"><label class="px-single">
									<h:selectBooleanCheckbox value="#{mensagem.selecionada}" styleClass="px" >
										<f:ajax event="click" listener="#{caixaEntradaBean.selecionarMsg(mensagem)}"/>
									</h:selectBooleanCheckbox>
								<span class="lbl"></span></label></div>
								<div class="m-star"></div>
								<div class="m-from"><a href=""><h:outputText value="#{mensagem.remetente.nome}" /> </a></div>
								<div class="m-subject"> <a href="">
									<span class="label label-pa-purple">
										<h:outputText value="#{mensagens['display.recebida']}"  rendered="#{not (mensagem.remetente.idUsuario eq usuarioSessionBean.usuarioSessao.idUsuario)}"/>
										<h:outputText value="#{mensagens['display.enviada']}"  rendered="#{mensagem.remetente.idUsuario eq usuarioSessionBean.usuarioSessao.idUsuario}"/>
									</span>
									<h:outputText value="#{mensagem.titulo}" styleClass="marginLeft_10"/>
								</a></div>
								<div class="m-date">
									<h:outputText value="#{mensagem.tempo}"/> 
								</div>
							</li>
						</ui:repeat>
					</ul>
				</h:panelGroup>
				
				<!-- EXCLUIDAS -->
				<h:panelGroup id="msgExcluidas" rendered="#{caixaEntradaBean.msgExcluidas}">
					<ul class="mail-list">
						<ui:repeat var="mensagem" value="#{caixaEntradaBean.mensagensExcluidas}"  >
							<li class="mail-item unread">
								<div class="m-chck"><label class="px-single">
									<h:selectBooleanCheckbox value="#{mensagem.selecionada}" styleClass="px" >
										<f:ajax event="click" listener="#{caixaEntradaBean.selecionarMsg(mensagem)}"/>
									</h:selectBooleanCheckbox>
								<span class="lbl"></span></label></div>
								<div class="m-star"></div>
								<div class="m-from"><a href=""><h:outputText value="#{mensagem.remetente.nome}" /> </a></div>
								<div class="m-subject"> <a href="">
									<span class="label label-pa-purple">
										<h:outputText value="#{mensagens['display.recebida']}"  rendered="#{not (mensagem.remetente.idUsuario eq usuarioSessionBean.usuarioSessao.idUsuario)}"/>
										<h:outputText value="#{mensagens['display.enviada']}"  rendered="#{mensagem.remetente.idUsuario eq usuarioSessionBean.usuarioSessao.idUsuario}"/>
									</span>
									<h:outputText value="#{mensagem.titulo}" styleClass="marginLeft_10"/>
								</a></div>
								<div class="m-date">
									<h:outputText value="#{mensagem.tempo}"/> 
								</div>
							</li>
						</ui:repeat>
					</ul>
				</h:panelGroup>
				</h:panelGroup>
				</div>
			</h:panelGroup>
		</div>
	</h:form>
	<div id="main-menu-bg"/>
	</h:body>
	
	<!-- RODAPE -->
	<ui:insert name="rodape">
		<ui:include src="/template/rodape.xhtml" />
	</ui:insert>
	</div>
	</html>
</ui:composition>