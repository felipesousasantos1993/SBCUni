<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/template/template.xhtml"
	xmlns:p="http://primefaces.org/ui"
>
	<ui:define name="conteudo">
	<div class="page-header">
		<ol class="breadcrumb breadcrumb-page">
			<li>
				<h:outputLink>
					<h:outputText value="#{mensagens['display.voce.esta.em']}" />
				</h:outputLink>
			</li>
			<li>
				<h:outputText value="#{mensagens['display.grupos.estudo']}" />
			</li>
			<li class="active">
				<h:outputText value="#{mensagens['display.criar.grupo.estudo']}" />
			</li>
		</ol>
		<h:messages id="mensagens"  errorClass="alert alert-danger alert-dark" infoClass="alert alert-info alert-dark" warnClass="alert alert-dark"/>
	</div>
	<div id="content" class="content">
		<h:form prependId="false" id="form">
			<ui:repeat var="grupoEstudo" value="#{meusGruposBean.grupoEstudos}">
				<div class="row">
					<div class="col-sm-12">
						<div class="list-group">
							<h:commandLink  action="#{meusGruposBean.detalharGrupoEstudo(grupoEstudo)}" styleClass="list-group-item" >
								<h4 class="list-group-item-heading">
									 <h:outputText value="#{grupoEstudo.noGrupo} " />
								</h4>
								<span class="badge badge-primary" title="Alunos" >
									<h:outputText value="#{grupoEstudo.alunos.size()}" />
								</span> 
								<span class="badge badge-success" title="Tópicos"> <h:outputText value="#{grupoEstudo.topicosGrupo.size()}" /> </span>
								<p class="list-group-item-text">
								<p>
									<h:outputText value="#{mensagens['display.ultimos.topicos']}" />
								</p>
								<ul class="list-unstyled">
									<ui:repeat var="topico" value="#{grupoEstudo.topicosGrupo}">
									<li>
										<h:outputText value="#{topico.dtCriacao}" rendered="#{empty topico.dtUltimaAtualizacao}">
											<f:convertDateTime timeZone="America/Sao_Paulo" locale="pt_BR" pattern="dd/MM/yyyy"/>
										</h:outputText> 
										<h:outputText value="#{topico.dtUltimaAtualizacao}" rendered="#{not empty topico.dtUltimaAtualizacao}">>
											<f:convertDateTime timeZone="America/Sao_Paulo" locale="pt_BR" pattern="dd/MM/yyyy"/>
										</h:outputText> 
										
										<h:outputText value="#{topico.titulo}" />
									</li>
									
									</ui:repeat>
								</ul>
							</p>
							</h:commandLink>
						</div>
					</div>
				</div>
				</ui:repeat>
						
			</h:form>
		</div>
	</ui:define>
</ui:composition>