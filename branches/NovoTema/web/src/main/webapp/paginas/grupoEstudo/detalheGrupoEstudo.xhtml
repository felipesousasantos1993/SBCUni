<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/template/template.xhtml"
	xmlns:p="http://primefaces.org/ui"
>
	<ui:define name="conteudo">
	<div class="page-header">
		<ol class="breadcrumb breadcrumb-page">
			<li>
				<h:outputLink>
					<h:outputText value="#{mensagens['display.voce.esta.em']}" />
				</h:outputLink>
			</li>
			<li>
				<h:outputText value="#{mensagens['display.grupos.estudo']}" />
			</li>
			<li class="active">
				<h:outputText value="#{mensagens['display.detalhe.grupo']}" />
			</li>
		</ol>
		<h:messages id="mensagens"  errorClass="alert alert-danger alert-dark" infoClass="alert alert-info alert-dark" warnClass="alert alert-dark"/>
	</div>
		<h:form prependId="false" id="form">
			<div class="row">
				<div class="col-md-12">
					<div class="panel">
						<div class="panel-heading">
							<span class="panel-title">
								<h:outputText value="#{detalheGrupoEstudoBean.grupoEstudo.noGrupo}" />
							</span>
						</div>
						
						<div class="panel-body"  >
							<dl>
								<dt>
									<h:outputText value="#{mensagens['display.professor']}: "/>
								</dt>
								<dd>
									<h:outputText id="professor" value="#{detalheGrupoEstudoBean.grupoEstudo.professor.nome}" />
								</dd>
							</dl>
							<div style="margin-bottom:20px;">
								<h:commandLink value="#{mensagens['display.criar.topico']}" action="#{detalheGrupoEstudoBean.telaNovoTopico()}" styleClass="btn btn-primary btn-outline btn-xs">
									<i class="fa fa-flag"/>
								</h:commandLink>
								<h:commandLink value="#{mensagens['display.incluir.aluno']}" action="#" styleClass="btn btn-primary btn-outline btn-xs marginLeft_10">
									<i class="fa fa-user"/>
								</h:commandLink>
								<h:commandLink value="#{mensagens['display.editar.nome.grupo']}" action="#" styleClass="btn btn-primary btn-outline btn-xs marginLeft_10">
									<i class="fa fa-edit"/>
								</h:commandLink>
							</div>
							<div class="clear"/>
							
								<div class="nav-tabs-custom">
									<ul class="nav nav-tabs nav-justified">
										<li>
											<a href="#tab_alunos" data-toggle="tab">
												<h:outputText value="#{mensagens['display.alunos']}" />
											</a>
										</li>
										<li>
											<a href="#tab_topicos" data-toggle="tab">
												<h:outputText value="#{mensagens['display.topicos']}" />
											</a>
										</li>
									</ul>
									<div class="tab-content">
										<div id="tab_alunos" class="tab-pane fade widget-followers ">
											<ui:repeat var="aluno" value="#{detalheGrupoEstudoBean.grupoEstudo.alunos}">
												<div class="follower">
													<h:graphicImage library="img" value="/resources/img/2.jpg" styleClass="follower-avatar"/>
													<div class="body">
														<h:panelGroup id="aluno">
															<div class="follower-controls tooltips">
																<h:outputFormat  id="msgExcluir" rendered="#{aluno.marcado}">
																	<h:outputLabel styleClass="labelLink" value="#{mensagens['display.confirma.exclusao.aluno']}" />
																	<h:outputLabel styleClass="labelLink marginLeft_5" value="#{mensagens['display.sim']}" >
																		<f:ajax event="click" render="@form" listener="#{detalheGrupoEstudoBean.excluirAlunoGrupo(aluno)}"/>
																	</h:outputLabel>
																	<h:outputLabel styleClass="labelLink marginLeft_5" value="#{mensagens['display.nao']}" >
																		<f:ajax event="click" render="aluno" listener="#{detalheGrupoEstudoBean.desmarcarAluno(aluno)}"/>
																	</h:outputLabel>
																</h:outputFormat>
															
																<h:outputLabel styleClass="badge badge-primary marginLeft_10" title="Tópicos criados pelo aluno">
																	<h:outputText value="#{aluno.nuTopicos}" />
																</h:outputLabel>
																<h:outputLabel styleClass="badge badge-success marginLeft_5" title="Comentários do aluno">
																	<h:outputText value="#{aluno.nuComentariosNoGrupo}" />
																</h:outputLabel>
																<h:outputLabel title="#{mensagens['display.enviar.mensagem']}"  styleClass="btn btn-outline btn-primary btn-xs marginLeft_10">
																	<i class="fa fa-envelope"/>
																</h:outputLabel>
																<h:outputLabel title="#{mensagens['display.excluir.aluno']}" styleClass="btn btn-danger btn-outline btn-xs marginLeft_5">
																	<i class="fa fa-times"/>
																	<f:ajax event="click" render="aluno" listener="#{detalheGrupoEstudoBean.marcarAluno(aluno)}"/>
																</h:outputLabel>
															</div>
															<h:commandLink action="#{detalheGrupoEstudoBean.perfilUsuario(aluno)}" immediate="true" value="#{aluno.nome}" styleClass="follower-name"/>
															<br/>
															<h:outputText value="#{aluno.email}" styleClass="follower-username"/>
															</h:panelGroup>
														</div>
													</div>
												<hr/>
											</ui:repeat>
										</div>
										<div id="tab_topicos" class="tab-pane fade widget-followers ">
											<ui:repeat var="topico" value="#{detalheGrupoEstudoBean.grupoEstudo.topicosGrupo}">
											<div class="follower">
												<h:graphicImage library="img" value="/resources/img/2.jpg" styleClass="follower-avatar"/>
												<div class="body">
													<div class="follower-controls tooltips">
														<button type="button" class="badge badge-primary " data-toggle="tooltip" data-placement="top" title="" data-original-title="Comentários do tópico">
															<h:outputText value="#{topico.nuComentarios}" />
														</button>
														<h:commandLink action="#" title="#{mensagens['display.comentar']}" styleClass="btn btn-primary btn-outline btn-xs marginLeft_5">
															<i class="fa fa-comments-o"/>
														</h:commandLink>
														<h:commandLink title="#{mensagens['display.excluir.topico']}" styleClass="btn btn-danger btn-outline btn-xs marginLeft_5">
															<i class="fa fa-minus-circle"/>
														</h:commandLink>
													</div>
												
													<h:commandLink action="#{detalheGrupoEstudoBean.detalharTopico(topico)}" value="#{topico.titulo}" styleClass="follower-name"/>
													<br/>
													<h:outputText value="#{topico.usuario.nome}" styleClass="follower-username"/>
												</div>
											</div>
											<h:outputLabel styleClass="marginLeft_5">
									 			<h:outputText value="#{topico.nuAvaliacaoPositivas}" />
							 		 			<i class="glyphicon glyphicon-thumbs-up"/>
									 			<h:outputText value="#{topico.nuAvaliacaoNegativas}" styleClass="marginLeft_10"/>
								 		 		<i class="glyphicon glyphicon-thumbs-down" />
											</h:outputLabel>
											<h:outputText value="#{topico.tempoTopicoCriacao}" styleClass="marginLeft_10"/>
											<hr/>
										</ui:repeat>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</h:form>
	</ui:define>
</ui:composition>